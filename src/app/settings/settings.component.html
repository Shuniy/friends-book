<div class="container">
  <div class="row">
    <div class="col-9 m-auto">
      <div class="card">
        <div class="card-body">
          <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item">
              <a
                class="nav-link active"
                data-bs-toggle="tab"
                data-bs-target="#settings"
                >Settings</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link"
                data-bs-toggle="tab"
                data-bs-target="#password"
                >Reset Password</a
              >
            </li>
          </ul>
          <div class="tab-content" id="myTabContent">
            <div
              id="settings"
              class="tab-pane fade show active"
              role="tabpanel"
              aria-labelledby="settings-tab"
            >
              <form [formGroup]="profileForm" (ngSubmit)="onSubmit()">
                <div class="form-row my-3">
                  <div class="form-group col">
                    <label class="form-label" for="firstName">First Name</label>
                    <input
                      type="text"
                      formControlName="firstName"
                      class="form-control"
                      [ngClass]="{
                        'is-invalid': submitted && getPF.firstName.errors
                      }"
                    />
                    <div
                      *ngIf="submitted && getPF.firstName.errors"
                      class="invalid-feedback"
                    >
                      <div *ngIf="getPF.firstName.errors.required">
                        First Name is required
                      </div>
                    </div>
                  </div>
                  <div class="form-group my-3 col">
                    <label class="form-label" for="lastName">Last Name</label>
                    <input
                      type="text"
                      formControlName="lastName"
                      class="form-control"
                      [ngClass]="{
                        'is-invalid': submitted && getPF.lastName.errors
                      }"
                    />
                    <div
                      *ngIf="submitted && getPF.lastName.errors"
                      class="invalid-feedback"
                    >
                      <div *ngIf="getPF.lastName.errors.required">
                        Last Name is required
                      </div>
                    </div>
                  </div>
                </div>
                <div class="form-group my-3">
                  <label class="form-label" for="email">Email</label>
                  <input
                    type="text"
                    formControlName="email"
                    class="form-control"
                    [ngClass]="{
                      'is-invalid': submitted && getPF.email.errors
                    }"
                  />
                  <div
                    *ngIf="submitted && getPF.email.errors"
                    class="invalid-feedback"
                  >
                    <div *ngIf="getPF.email.errors.required">
                      Email is required
                    </div>
                  </div>
                </div>

                <div class="form-group my-3">
                  <label class="form-label">Date of Birth</label>
                  <input
                    type="date"
                    formControlName="dob"
                    class="form-control"
                    [ngClass]="{ 'is-invalid': submitted && getPF.dob.errors }"
                  />
                  <div
                    *ngIf="submitted && getPF.dob.errors"
                    class="invalid-feedback"
                  >
                    <div *ngIf="getPF.dob.errors.required">
                      Date of Birth is required
                    </div>
                  </div>
                </div>
                <div class="form-group my-3">
                  <label class="form-label">Gender</label>
                  <div class="row">
                    <div class="col-md-9">
                      <label class="form-label" class="col-md-6">
                        <input
                          type="radio"
                          value="Male"
                          formControlName="gender"
                        />
                        <span> Male</span>
                      </label>
                      <label class="form-label" class="col-md-6">
                        <input
                          type="radio"
                          value="Female"
                          formControlName="gender"
                        />
                        <span> Female</span>
                      </label>
                      <div
                        *ngIf="submitted && getPF.gender.errors"
                        class="invalid-feedback"
                      >
                        <div *ngIf="getPF.gender.errors.required">
                          Gender is required
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="form-group my-3">
                  <label class="form-label" for="city">City</label>
                  <input
                    type="text"
                    formControlName="city"
                    class="form-control"
                    [ngClass]="{ 'is-invalid': submitted && getPF.city.errors }"
                  />
                  <div
                    *ngIf="submitted && getPF.city.errors"
                    class="invalid-feedback"
                  >
                    <div *ngIf="getPF.city.errors.required">
                      City is required
                    </div>
                  </div>
                </div>
                <div class="form-group my-3">
                  <label class="form-label" for="state">State</label>
                  <input
                    type="text"
                    formControlName="state"
                    class="form-control"
                    [ngClass]="{
                      'is-invalid': submitted && getPF.state.errors
                    }"
                  />
                  <div
                    *ngIf="submitted && getPF.state.errors"
                    class="invalid-feedback"
                  >
                    <div *ngIf="getPF.state.errors.required">
                      State is required
                    </div>
                  </div>
                </div>
                <div class="form-group my-3">
                  <label class="form-label" for="country">Country</label>
                  <input
                    type="text"
                    formControlName="country"
                    class="form-control"
                    [ngClass]="{
                      'is-invalid': submitted && getPF.country.errors
                    }"
                  />
                  <div
                    *ngIf="submitted && getPF.country.errors"
                    class="invalid-feedback"
                  >
                    <div *ngIf="getPF.country.errors.required">
                      Country is required
                    </div>
                  </div>
                </div>
                <div class="form-group my-3">
                  <label class="form-label" for="phone">Phone</label>
                  <input
                    type="text"
                    formControlName="phone"
                    class="form-control"
                    [ngClass]="{
                      'is-invalid': submitted && getPF.phone.errors
                    }"
                  />
                  <div
                    *ngIf="submitted && getPF.phone.errors"
                    class="invalid-feedback"
                  >
                    <div *ngIf="getPF.phone.errors.required">
                      Phone Number is required
                    </div>
                  </div>
                </div>
                <div class="form-group my-3">
                  <button
                    [disabled]="!profileForm.valid"
                    class="btn btn-primary"
                  >
                    <span
                      *ngIf="loading"
                      class="spinner-border spinner-border-sm mr-1"
                    ></span>
                    Save
                  </button>
                </div>
              </form>
            </div>
            <div
              id="password"
              class="tab-pane fade"
              role="tabpanel"
              aria-labelledby="password-tab"
            >
              <form
                [formGroup]="resetPasswordForm"
                (ngSubmit)="resetPassword()"
              >
                <div class="form-group my-3">
                  <label class="form-label">Password</label>
                  <input
                    type="password"
                    formControlName="password"
                    class="form-control"
                    [ngClass]="{
                      'is-invalid': submitted && getRPForm.password.errors
                    }"
                  />
                  <div
                    *ngIf="
                      (getRPForm.password.invalid &&
                        getRPForm.password.touched) ||
                      getRPForm.password.dirty
                    "
                  >
                    <div
                      class="text-danger"
                      *ngIf="getRPForm.password.errors?.required"
                    >
                      Password is required
                    </div>
                    <div
                      class="text-danger"
                      *ngIf="getRPForm.password.errors?.pattern"
                    >
                      <p>Invalid Password!</p>
                      <p>
                        Password must have One uppercase and lowercase
                        character!
                      </p>
                      <p>Password must have 1 special character!</p>
                      <p>Password must have 6 characters!</p>
                    </div>
                  </div>

                  <label class="form-label">Confirm Password</label>
                  <input
                    type="password"
                    formControlName="confirmPassword"
                    class="form-control"
                    [ngClass]="{
                      'is-invalid':
                        submitted && getRPForm.confirmPassword.errors
                    }"
                  />
                  <div
                    *ngIf="
                      (getRPForm.confirmPassword.invalid &&
                        getRPForm.confirmPassword.touched) ||
                      getRPForm.confirmPassword.dirty
                    "
                  >
                    <div
                      class="text-danger"
                      *ngIf="getRPForm.confirmPassword.errors?.required"
                    >
                      Confirm Password is required
                    </div>
                  </div>
                  <div
                    class="text-danger"
                    *ngIf="getRPForm.confirmPassword.errors?.ConfirmPassword"
                  >
                    Passwords must match
                  </div>
                </div>
                <div class="form-group my-3">
                  <button
                    [disabled]="!resetPasswordForm.valid"
                    class="btn btn-primary"
                  >
                    <span
                      *ngIf="loading"
                      class="spinner-border spinner-border-sm mr-1"
                    ></span>
                    Reset Password
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
